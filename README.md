# 怪獸對打機（Arduino 串列原型）

這是一個以 Arduino 串列監控視窗操作的「怪獸對打機」原型。先用最簡單的文字介面完成核心戰鬥、升級與存檔，之後可以再把 UI 移植到 OLED/LCD、接按鍵，甚至兩台互相對戰。

## 快速開始

- 材料：Arduino UNO/Nano 或相容板（內建 EEPROM），可選一個浮動的 `A0` 當亂數種子。
- 開啟 `MonsterBattle.ino`，上傳到板子。
- 打開「序列埠監控視窗」：`9600` baud，行結尾選「Newline」。
- 依照選單輸入數字操作：
  - 1 新建怪獸
  - 2 載入進度
  - 3 訓練（回滿 HP）
  - 4 與野生怪戰鬥
  - 5 查看屬性
  - 6 存檔
  - 7 清除存檔
  - 8 休息（無操作）

## 內建規則概述

- 屬性：HP、攻擊、防禦、速度、等級、經驗值。
- 招式：
  - Quick（高命中、低傷害）
  - Heavy（較高傷害、較低命中）
  - Heal（回復 HP）
- 回合制：依速度決定先後。命中、亂數傷害已簡化處理。
- 升級：勝利後獲得 EXP，達門檻自動升級並提升能力值。

## 存檔說明（EEPROM）

- 使用 `EEPROM.put/get`，地址 `0`，帶簽章驗證（避免讀到垃圾資料）。
- 注意 EEPROM 寫入壽命有限（約 100,000 次），請避免頻繁連續寫入。

## 自訂與擴充

- 修改招式：`MonsterBattle.ino` 中的 `MOVE_QUICK/MOVE_HEAVY/MOVE_HEAL`。
- 調整平衡：
  - `expToNext()` 決定升級曲線。
  - `makeBaseMonster()` 與 `makeWild()` 決定初始與野生怪的能力分佈。
- 顯示/按鍵：
  - 可改用 SSD1306 OLED（I2C）或 LCD（16x2）顯示，將目前的 `Serial.print` 換成對應顯示 API。
  - 將 `askChoice()` 從串列輸入改為按鍵掃描後回傳選項。
- 連線對戰（進階）：
  - 可用軟體序列埠、IR、BLE 等傳輸協定，雙方交換指令（選招、亂數種子、同步回合）。

## 已知限制

- 目前僅單機對戰野生怪，沒有怪獸圖鑑/捕捉機制。
- 介面為純文字，尚未連接實體按鍵與螢幕。

## 故障排除

- 串列監控視窗務必設為 `9600`，且行結尾為「Newline」。
- 沒有載入到進度？請先「新建怪獸」再嘗試存檔/載入。
- 亂數很固定？請確保 `A0` 未接線（浮空）或改用其他不穩定來源做種子。

